<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>bu metaverse</title>
    <meta name="description" content="Aframe-Material">
    <!--script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script-->
    <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
    <script
        src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
    <script src="https://cdn.rawgit.com/etiennepinchon/aframe-material/master/dist/aframe-material.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <script
        src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
        <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
        <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
    <script type="text/javascript">
        AFRAME.ASSETS_PATH = "./assets";
    </script>

    <script id="link" type="text/html">
  <a-entity
    class="link"
    geometry="primitive:plane"
    material="shader:gif; src: ${thumb}; transparent:false"
    event-set__mouseenter="scale: 1.2 1.2 1"
    event-set__mouseleave="scale: 1 1 1"
    sound="on: click; src: #click-sound"
  ></a-entity>
</script>

<script id="link2" type="text/html">
    <a-entity
      class="link2"
      geometry="primitive: plane; height: 0.1; width: 0.1"
      material="shader: flat; transparent: false; src: ${src}"
      sound="on: click; src: #click-sound"
    ></a-entity>
  </script>

</head>

<body>
    <a-scene>
        <a-entity laser-controls="hand: right"></a-entity>

        <a-entity camera look-controls mouse-cursor position="0 0 0"></a-entity>

        <!--assets-->
        <a-assets>
            <img id="city" crossorigin="anonymous"
                src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/city.jpg" />
            <img id="city-thumb" crossorigin="anonymous"
                src="images/GIF/gif.gif" />
            <img id="cubes-thumb" crossorigin="anonymous"
                src="favicon.ico" />
            <img id="sechelt-thumb" crossorigin="anonymous"
                src="favicon.ico" />
            <audio id="click-sound" crossorigin="anonymous"
                src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
            <img id="cubes" crossorigin="anonymous"
                src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/cubes.jpg" />
            <img id="sechelt" crossorigin="anonymous"
                src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg" />
            <video id="skyRoom1" autoplay preload="auto" loop="true" src="panorams/videos/1.mp4"></video>
            <video id="skyRoom2" autoplay preload="auto" loop="true" src="panorams/videos/2.mp4"></video>
            <video id="skyRoom3" autoplay preload="auto" loop="true" src="panorams/videos/3.mp4"></video>
        </a-assets>
        <!--end assets-->

        <!-- BEGIN ENVIRONEMENT -->
        <a-videosphere id="skyRoom" src="#skyRoom1" rotation="0 -90 0"></a-videosphere>
    
        <!--a-image id="sky0" src="panorams/0_Campus_Point_1/standard/0.jpg" width="20.5" height="20.5" rotation="0 180 0"
                position="0 0 10.25">
        </a-image>
        <a-image id="sky1" src="panorams/0_Campus_Point_1/standard/1.jpg" width="20.5" height="20.5" rotation="0 90 0"
                position="-10.25 0 0">
        </a-image>
        <a-image id="sky2" src="panorams/0_Campus_Point_1/standard/2.jpg" width="20.5" height="20.5" rotation="0 0 0"
                position="0 0 -10.25"
                animation="property: material.opacity; from: 0.1; to: 0.0 dur: 500; startEvents: animate">
        </a-image>
        <a-image id="sky3" src="panorams/0_Campus_Point_1/standard/3.jpg" width="20.5" height="20.5" rotation="0 -90 0"
                position="10.25 0 0">
        </a-image>
        <a-image id="sky4" src="panorams/0_Campus_Point_1/standard/4.jpg" width="20.5" height="20.5" rotation="90 180 0"
                position="0 10.25 0">
        </a-image>
        <a-image id="sky5" src="panorams/0_Campus_Point_1/standard/5.jpg" width="20.5" height="20.5" rotation="-90 180 0"
                position="0 -10.25 0">
        </a-image>
        <-- END ENVIRONEMENT -->

        <!-- Gallery -->
        <a-entity id="gallary1" position="0 20 0">
            <a-entity id="closeGallery1" position="-1.9 1 -2" rotation="0 90 0" 
                template="src: #link2" data-src="#city-thumb">
            </a-entity>
            <a-entity id="nextGallary1" position="-1.9 -0.479 -1.5" rotation="0 90 0" 
                template="src: #link2" data-src="images/popup/next.png">
            </a-entity>
            <a-entity id="prevGallary1" position="-1.9 -0.479 1.5" rotation="0 90 0"
                template="src: #link2" data-src="images/popup/prev.png">
            </a-entity>
            <a-image id="imageGallary1" position="-1.9 -0.479 0" width="1.69" height="1.69" rotation="0 90 0" src="images/gallery/3-1.jpg">
            </a-image>
            <a-image id="bgGallary1" position="-2 -0.5 0" width="4.5" height="2" rotation="0 90 0" src="images/popup/bg.png">
            </a-image>
            <a-image id="headGallary1" position="-2 0.85 0" width="2" height="0.6" rotation="0 90 0" src="images/popup/head.png">
            </a-image>
            <a-rounded position="-2.1 -1.7 2.5" width="5" height="3.1" radius="0.05" rotation="0 90 0"
                opacity="0.5" scale="1 1 1">
            </a-rounded>
        </a-entity>
        <!-- End Gallery -->

        <!-- Thumbnail -->
        <a-entity id="thumbRoom1">
            <a-entity id="toRoom2" position="0 -0.5 -10" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
            <a-entity id="openGallery1" position="-10 1 4" rotation="0 90 0" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
            <a-entity id="openGallery2" position="-10 1 0.5" rotation="0 90 0" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
            <a-entity id="openVideos1" position="-10 1 -3" rotation="0 90 0" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
        </a-entity>

        <a-entity id="thumbRoom2" position="0 20 0">
            <a-entity id="toRoom1" position="0 -0.5 10" rotation="0 180 0" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
            <a-entity id="toRoom3" position="0 -0.5 -10" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
        </a-entity>

        <a-entity id="thumbRoom3" position="0 20 0">
            <a-entity id="backRoom2" position="0 -0.5 10" rotation="0 180 0" template="src: #link" data-src="#city" data-thumb="#city-thumb" data-nextthumb="#toSechelt">
            </a-entity>
        </a-entity>
        <!-- End Thumbnail -->

        <!-- Javascript -->
        <script type="text/javascript">
            let thumbRoom1 = document.querySelector('#thumbRoom1');
            let thumbRoom2 = document.querySelector('#thumbRoom2');
            let thumbRoom3 = document.querySelector('#thumbRoom3');

            let toRoom1 = document.getElementById('toRoom1');
            let toRoom2 = document.getElementById('toRoom2');
            let toRoom3 = document.getElementById('toRoom3');

            let backRoom2 = document.getElementById('backRoom2');

            let gallary1 = document.getElementById('gallary1');
            let imageGallary1 = document.getElementById('imageGallary1');

            let openGallery1 = document.querySelector('#openGallery1');

            let closeGallery1 = document.querySelector('#closeGallery1');

            let nextGallary1 = document.querySelector('#nextGallary1');
            let prevGallary1 = document.querySelector('#prevGallary1');

            

            openGallery1.addEventListener('click', () => {
                gallary1.setAttribute('position', '0 0.1 0');
            })

            closeGallery1.addEventListener('click', () => {
                gallary1.setAttribute('position', '0 20 0');
            })

            nextGallary1.addEventListener('click', () => {
                if(imageGallary1.getAttribute('src') == 'images/gallery/3-1.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-2.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-2.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-3.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-3.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-4.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-4.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-5.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-5.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-1.jpg')
                }
            })

            prevGallary1.addEventListener('click', () => {
                if(imageGallary1.getAttribute('src') == 'images/gallery/3-1.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-5.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-2.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-1.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-3.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-2.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-4.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-3.jpg')
                }
                else if(imageGallary1.getAttribute('src') == 'images/gallery/3-5.jpg'){
                    imageGallary1.setAttribute('src', 'images/gallery/3-4.jpg')
                }
            })
            
            toRoom1.addEventListener('click', () => {
                thumbRoom1.setAttribute('position', '0 0 0');
                thumbRoom2.setAttribute('position', '0 20 0');
                document.getElementById('skyRoom').setAttribute('src', '#skyRoom3');
                document.getElementById('sky0').setAttribute('src', 'panorams/0_Campus_Point_1/standard/0.jpg');
                document.getElementById('sky1').setAttribute('src', 'panorams/0_Campus_Point_1/standard/1.jpg');
                document.getElementById('sky2').setAttribute('src', 'panorams/0_Campus_Point_1/standard/2.jpg');
                document.getElementById('sky3').setAttribute('src', 'panorams/0_Campus_Point_1/standard/3.jpg');
                document.getElementById('sky4').setAttribute('src', 'panorams/0_Campus_Point_1/standard/4.jpg');
                document.getElementById('sky5').setAttribute('src', 'panorams/0_Campus_Point_1/standard/5.jpg');
            })
            toRoom2.addEventListener('click', () => {
                thumbRoom1.setAttribute('position', '0 20 0');
                thumbRoom2.setAttribute('position', '0 0 0');
                thumbRoom3.setAttribute('position', '0 20 0');
                gallary1.setAttribute('position', '0 20 0');
                setTimeout(function (){
                    document.getElementById('skyRoom').setAttribute('src', '#skyRoom2');
                document.querySelector('#skyRoom2').play();
                }, 300);
                
                document.getElementById('sky0').setAttribute('src', 'panorams/0_Campus_Point_2/standard/0.jpg');
                document.getElementById('sky1').setAttribute('src', 'panorams/0_Campus_Point_2/standard/1.jpg');
                document.getElementById('sky2').setAttribute('src', 'panorams/0_Campus_Point_2/standard/2.jpg');
                document.getElementById('sky3').setAttribute('src', 'panorams/0_Campus_Point_2/standard/3.jpg');
                document.getElementById('sky4').setAttribute('src', 'panorams/0_Campus_Point_2/standard/4.jpg');
                document.getElementById('sky5').setAttribute('src', 'panorams/0_Campus_Point_2/standard/5.jpg');
            })
            backRoom2.addEventListener('click', () => {
                thumbRoom1.setAttribute('position', '0 20 0');
                thumbRoom2.setAttribute('position', '0 0 0');
                thumbRoom3.setAttribute('position', '0 20 0');
                document.getElementById('sky0').setAttribute('src', 'panorams/0_Campus_Point_2/standard/0.jpg');
                document.getElementById('sky1').setAttribute('src', 'panorams/0_Campus_Point_2/standard/1.jpg');
                document.getElementById('sky2').setAttribute('src', 'panorams/0_Campus_Point_2/standard/2.jpg');
                document.getElementById('sky3').setAttribute('src', 'panorams/0_Campus_Point_2/standard/3.jpg');
                document.getElementById('sky4').setAttribute('src', 'panorams/0_Campus_Point_2/standard/4.jpg');
                document.getElementById('sky5').setAttribute('src', 'panorams/0_Campus_Point_2/standard/5.jpg');
            })
            toRoom3.addEventListener('click', () => {
                thumbRoom2.setAttribute('position', '0 20 0');
                thumbRoom3.setAttribute('position', '0 0 0');
                document.getElementById('sky0').setAttribute('src', 'panorams/0_Campus_Point_3/standard/0.jpg');
                document.getElementById('sky1').setAttribute('src', 'panorams/0_Campus_Point_3/standard/1.jpg');
                document.getElementById('sky2').setAttribute('src', 'panorams/0_Campus_Point_3/standard/2.jpg');
                document.getElementById('sky3').setAttribute('src', 'panorams/0_Campus_Point_3/standard/3.jpg');
                document.getElementById('sky4').setAttribute('src', 'panorams/0_Campus_Point_3/standard/4.jpg');
                document.getElementById('sky5').setAttribute('src', 'panorams/0_Campus_Point_3/standard/5.jpg');
            })
          </script>
          <!-- End Javascript -->
</body>

</html>